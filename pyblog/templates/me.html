{% extends 'base.html' %}
{% block head %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/me.css') }}">
{% endblock head %}
{% block content %}
  <main class="container mt-4">
    <div class="row">
      <div class="col-lg-8 order-lg-0 order-1">
        <div class="card">
          <div class="card-body">
            <h1>Profile information</h1>
            <form action="{{ url_for('users.me') }}" method="POST">
              {{ form.csrf_token() }}
              <div class="row mb-3">
                <div class="col">
                  <label for="picture" class="form-label">
                    Profile Picture
                  </label>
                  <input name="picture" type="file" class="form-control"/>
                </div>
              </div>
              <div class="row mb-3">
                <div class="col">
                  {{ form.full_name.label(class="form-label") }}

                  {% if form.full_name.errors %}
                    {{ form.full_name(placeholder='John Doe', class="form-control is-invalid") }}
                    <div class="invalid-feedback">
                      {% for error in form.full_name.errors %}
                        <span>{{ error }}</span>
                      {% endfor %}
                    </div>
                  {% else %}
                    {{ form.full_name(placeholder='John Doe', class="form-control") }}
                  {% endif %}
                </div>
              </div>
              <div class="row mb-3">
                <div class="col">
                  {{ form.username.label(class="form-label") }}

                  {% if form.username.errors %}
                    {{ form.username(placeholder='john-doe', class="form-control is-invalid") }}
                    <div class="invalid-feedback">
                      {% for error in form.username.errors %}
                        <span>{{ error }}</span>
                      {% endfor %}
                    </div>
                  {% else %}
                    {{ form.username(placeholder='john-doe', class="form-control") }}
                  {% endif %}
                </div>
              </div>
              <div class="row">
                <div class="col">
                  {{ form.bio.label(class="form-label") }}

                  {% if form.bio.errors %}
                    {{ form.bio(placeholder='Tiny description about you.', class="form-control is-invalid") }}
                    <div class="invalid-feedback">
                      {% for error in form.bio.errors %}
                        <span>{{ error }}</span>
                      {% endfor %}
                    </div>
                  {% else %}
                    {{ form.bio(placeholder='Tiny description about you.', class="form-control") }}
                  {% endif %}
                  <p class="float-end text-muted">
                    <span id="bioCharCounter">0</span> / 150 characters
                  </p>
                </div>
              </div>
              <div class="row mb-3">
                <div class="col">
                  {{ form.email.label(class="form-label") }}

                  {% if form.email.errors %}
                    {{ form.email(placeholder='email@example.com', class="form-control is-invalid") }}
                    <div class="invalid-feedback">
                      {% for error in form.email.errors %}
                        <span>{{ error }}</span>
                      {% endfor %}
                    </div>
                  {% else %}
                    {{ form.email(placeholder='email@example.com', class="form-control") }}
                  {% endif %}
                </div>
              </div>
              <div class="row">
                {{ form.password.label(class="form-label") }}
                <div class="col input-group">
                  {% if form.password.errors %}
                    {{ form.password(placeholder='********', class="form-control is-invalid") }}
                    <div class="invalid-feedback">
                      {% for error in form.password.errors %}
                        <span>{{ error }}</span>
                      {% endfor %}
                    </div>
                  {% else %}
                    {{ form.password(placeholder='********', class="form-control") }}
                  {% endif %}
                  {{ form.submit(class="btn btn-primary") }}
                </div>
              </div>
              {{ form.currently_learning() }}
              {{ form.experience_in() }}
              {{ form.looking_to() }}
            </form>
          </div>
        </div>
      </div>
      <div class="col-lg-4 order-0 order-lg-1">
        {% include 'components/profile_cards/editable.html' %}
      </div>
    </div>
  </main>
{% endblock content %}
{% block script %}
  <script src="{{ url_for('static', filename='js/me.js') }}"></script>
{% endblock script %}