{% extends 'layouts/col8_col4.html' %}
{% from 'posts/macro_post_card.html' import post_cards with context %}
{% from 'posts/macro_post_accordion.html' import post_accordion with context %}

{% block col8 %}
  <div id="posts">
    <h1 class="mb-3">Posts from your community</h1>
    {{ post_cards(posts=posts) }}
  </div>
{% endblock col8 %}

{% block col4 %}
  <div id="sidebar">
    <div class="card p-3">
      {{ search_form.search.label(class='form-label') }}
      <form class="input-group mb-3" action="" method="GET">
        {{ search_form.search(class='form-control', placeholder='Search for tags, or keywords.') }}
        <button type="submit" class="btn btn-primary">
          <i class="bi bi-search"></i>
        </button>
      </form>
      <h5>Trending</h5>
      <div class="accordion mb-3" id="recommendedPosts">
        {% for post in recommended_posts %}
          {{ post_accordion(post=post) }}
        {% endfor %}
      </div>
      <h5>Recommended by the editors</h5>
      <div class="accordion" id="recommendedPosts">
        {% for post in recommended_posts %}
          {{ post_accordion(post=post) }}
        {% endfor %}
      </div>
    </div>
  </div>
  <hr class="mb-3 mb-lg-0">
{% endblock col4 %}